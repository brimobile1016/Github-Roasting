import{n as q,p as z}from"./index.Drf_8Evo.js";import{r as B,i as D}from"./scheduler.BYr5Pyy5.js";function G(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function H(n,f){q(n,1,1,()=>{f.delete(n.key)})}function I(n,f,u,S,w,h,o,$,v,j,y,k){let i=n.length,d=h.length,c=i;const m={};for(;c--;)m[n[c].key]=c;const a=[],p=new Map,g=new Map,x=[];for(c=d;c--;){const e=k(w,h,c),t=u(e);let s=o.get(t);s?x.push(()=>s.p(e,f)):(s=j(t,e),s.c()),p.set(t,a[c]=s),t in m&&g.set(t,Math.abs(c-m[t]))}const A=new Set,C=new Set;function M(e){z(e,1),e.m($,y),o.set(e.key,e),y=e.first,d--}for(;i&&d;){const e=a[d-1],t=n[i-1],s=e.key,l=t.key;e===t?(y=e.first,i--,d--):p.has(l)?!o.has(s)||A.has(s)?M(e):C.has(l)?i--:g.get(s)>g.get(l)?(C.add(s),M(e)):(A.add(l),i--):(v(t,o),i--)}for(;i--;){const e=n[i];p.has(e.key)||v(e,o)}for(;d;)M(a[d-1]);return B(x),a}function J(n,{delay:f=0,duration:u=400,easing:S=D}={}){const w=+getComputedStyle(n).opacity;return{delay:f,duration:u,easing:S,css:h=>`opacity: ${h*w}`}}export{G as e,J as f,H as o,I as u};
